{% extends 'customer/base__next.html' %}
{% load static %}
{% load humanize %}

{% block inner__content %}
<section class="menu-list">
  <div class="category mb-3">
    <div class="d-flex ml-3">
      {% for category in categories %}
        <form action="{% url 'customer:category_filter' %}" method="POST">{% csrf_token %}
          <button type="submit" class="category-btn p-2 text__bold" name="category" value="{{ category }}">
            {{ category.name }}
          </button>
        </form>
      {% endfor %}
    </div>

    {% block category %}
      {% include 'restaurant/manage/category.html' %}
    {% endblock %}
  </div>

  <form action="{% url 'customer:cart' %}" method="GET">{% csrf_token %}

    <div class="d-flex flex-wrap">
      {% for menu in menus %}
        <a class="mx-auto my-1 menu-item shadow" href="{% url 'customer:menu_detail' menu.id %}">
          <img src="{{ menu.img.url }}" alt="Menu">
          <div class="text-box">
            <p class="text-left pl-2">{{ menu.name }}</p>
            <p class="text-right pr-2">¥ {{ menu.price }}</p>
          </div>
        </a>
        <!-- hidden -->
        <input style="display: none;" type="text" name="menu_id" value="{{ menu.id }}">
      {% endfor %}
    </div>

    {% if not user.is_authenticated %}
      <button class="btn btn__orange btn__fixed shadow">カートを見る</button>
    {% else %}
      {% block menu_handle %}
        {% include 'restaurant/manage/menu_handle.html' %}
      {% endblock %}
    {% endif %}
  </form>
</section>
{% endblock %}
